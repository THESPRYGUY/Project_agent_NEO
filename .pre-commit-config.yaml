repos:
  - repo: local
    hooks:
      - id: placeholder-scan
        name: Placeholder token scan
        entry: python scripts/precommit_placeholder_scan.py
        language: system
        types: [text]
        exclude: >
          (?x)(
            ^node_modules/|
            ^reports/kpi_report\.json$|
            ^reports/kpi_report\.md$
          )
      - id: pack-type-guard
        name: Pack JSON type guard
        entry: python scripts/precommit_pack_type_guard.py
        language: system
        files: ^generated_repos/.*/\d{2}_.+\.json$
        pass_filenames: true
  - repo: https://github.com/psf/black
    rev: 24.10.0
    hooks:
      - id: black
        language_version: python3
        files: ^(src/|tests/)
  - repo: https://github.com/astral-sh/ruff-pre-commit
    rev: v0.6.9
    hooks:
      - id: ruff
        args: ["--fix"]
        files: ^(?:src/neo_agent/writer\.py|scripts/precommit_[^/]+\.py|scripts/precommit_pack_type_guard\.py|tests/test_kpi_report\.py|tests/test_release_gate_report\.py|tests/test_samples_roundtrip\.py|tests/unit_py/test_writer_pii\.py|tests/unit_py/test_registry_loader\.py)$
  - repo: https://github.com/pre-commit/mirrors-prettier
    rev: v4.0.0-alpha.8
    hooks:
      - id: prettier
        files: ^src/ui/kpi_panel\.js$
  - repo: https://github.com/pre-commit/mirrors-eslint
    rev: v8.56.0
    hooks:
      - id: eslint
        files: ^src/ui/kpi_panel\.js$
        additional_dependencies:
          - eslint@8.56.0
          - "@eslint/js@8.56.0"
