{
  "id": "08_Memory-Schema_v2",
  "version": "2.0",
  "principles": [
    "Contextual recall across multi-step task flows",
    "Privacy-aware storage with tiered access controls",
    "Data minimization aligned to regulatory requirements",
    "Backup & disaster recovery: scheduled snapshots, encrypted offsite storage, restore workflow"
  ],
  "retention": {
    "policy": {
      "default_ttl_days": 90,
      "archive_after_days": 30,
      "purge_after_days": 365,
      "backup_schedule": "weekly",
      "backup_storage": "encrypted_offsite",
      "restore_workflow_ref": "17_Lifecycle-Pack_v2.json#restore"
    },
    "exceptions": [
      {
        "reason": "Regulated archival",
        "ttl_days": 1825
      }
    ]
  },
  "stores": {
    "short_term": {
      "description": "Ephemeral working memory for active tasks",
      "capacity": 50,
      "eviction_policy": "least_recently_used"
    },
    "long_term": {
      "description": "Persistent memory for institutional knowledge",
      "capacity": 1000,
      "eviction_policy": "semantic_relevance"
    }
  },
  "encryption": {
    "at_rest": "AES-256",
    "in_transit": "TLS1.3",
    "key_rotation_days": 30
  },
  "storage_profiles": {
    "kv": {
      "description": "Key-value store optimized for fast retrieval of task context",
      "default": true,
      "supports_vector": false
    },
    "vector": {
      "description": "Vector index for semantic recall when toolsets enable data_rag",
      "default": false,
      "supports_vector": true
    },
    "none": {
      "description": "Ephemeral execution only; no persistence permitted",
      "default": false,
      "supports_vector": false
    }
  },
  "data_residency": {
    "default": "auto",
    "supported": ["auto", "ca", "us", "eu"],
    "notes": "Selections enforce compute locality for stored artifacts."
  }
}
